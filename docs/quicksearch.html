<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes ServicePlugin Events event:@midgar/service:afterInit Global Global Global Type Definitions ServiceModule Type: Object Properties: Name Type Description name string Service name dependencies Array.&lt;string&gt; Array of depend service before Array.&lt;string&gt; Array of service init after this service Object | function Service class or function Events @midgar/service:afterInit afterInit event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-18T21:42:03+00:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ServicePlugin Events event:@midgar/service:afterInit Global Global Classes Classes ServicePlugin Events @midgar/service:afterInit afterInit event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-18T21:42:03+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ServicePlugin Events event:@midgar/service:afterInit Global Global @midgar/service Système de services avec injection de dépendance pour Midgar Installation $ npm i @midgar/service Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/service added to plugins.json ! Fonctionnement Ce plugin ajoute un type de module midgar-service contenu dans le dossier ./services/. Module service Fonction: export default { // Nom du service name: 'namespace:monService', // Le service s'initialiseras avant le service mid:express before: ['mid:express'] // Service a injecter dependencies: [ 'mid:mongo' ], // Service service: (mid, mongoService) =&gt; { .... return service } } Class: // Nom du service const name = 'namespace:monService' // Le service s'initialiseras avant le service mid:express const before = ['mid:express'] // Service a injecter const dependencies: [ 'mid:mongo' ] // Service class MyService { constructor(mid, mongoService) {} init () { ... } } export default { name before, dependencies, service: MyService, } La methode init est appelé automatique lors de la création de l'instance du service. Get service const serviceInstance = mid.getService('namespace:monService') documentation Api. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-18T21:42:03+00:00 using the DocStrap template. "},"ServicePlugin.html":{"id":"ServicePlugin.html","title":"Class: ServicePlugin","body":" Documentation Classes ServicePlugin Events event:@midgar/service:afterInit Global Global Class: ServicePlugin ServicePlugin Midgar Service plugin new ServicePlugin() Members moduleTypeKey :string Services module type key Type: string services :object Service instance dictionary Type: object Methods getService(name) Return a service instance Parameters: Name Type Description name string Service name Returns: Type object init() Init plugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-18T21:42:03+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
