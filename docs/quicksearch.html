<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ServicePlugin Classes Classes ServicePlugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-02T13:35:37+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ServicePlugin @midgar/service Système de services avec injection de dépendance pour Midgar Installation $ npm i @midgar/service --save Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/controller added to plugins.js ! Fonctionnement Ajoute un dossier de plugin midgar-services: ./services/. Les services sont chargés a l'appel de l'évènement @midgar/midgar:afterLoadPlugins Get service const serviceInstance = mid.getService('myService') Service définition Exemple de fichier service Function: export default { // Service a injecter dependencies: [ 'db' ], service: (mid, db) =&gt; { ... } } Class: // Service a injecter const dependencies: [ 'db' ] /** * Class */ class MyService { constructor(mid, db) {} init () { ... } } export default { dependencies, service: MyService, } × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-02T13:35:37+00:00 using the DocStrap template. "},"ServicePlugin.html":{"id":"ServicePlugin.html","title":"Class: ServicePlugin","body":" Documentation Classes ServicePlugin Class: ServicePlugin ServicePlugin Midgar Service plugin new ServicePlugin() Members servicedefs :Object Service definition object Type: Object serviceInstances :Object Service instance object Type: Object Methods &lt;async&gt; _getServices() Return an object with all plugin services Returns: Type Object getService(name) Return a service instance Parameters: Name Type Description name String Service name Returns: Type Object &lt;async&gt; init() Init plugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-02T13:35:37+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
